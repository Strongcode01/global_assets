{% extends 'dashboard/base.html' %}
{% block title %}Deposit{% endblock %}
{% block content %}

<div class="deposit-card">
  <h2>Deposit Funds</h2>
  <p>Your current balance: <strong>${{ profile.total_balance }}</strong></p>

  <form method="POST" class="deposit-form">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Deposit</button>
  </form>
  <script>
    updateBalance();
</script>
</div>

<style>
  .amount.updated {
  animation: flash 0.5s ease;
}

@keyframes flash {
  0% { color: #007bff; }
  50% { color: #28a745; }
  100% { color: #007bff; }
}

.deposit-card {
  background: var(--card-bg);
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  max-width: 450px;
  margin: 30px auto;
  text-align: center;
}
.deposit-form button {
  background: var(--btn-bg);
  color: var(--btn-text);
  padding: 10px 18px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  transition: 0.3s;
}
.deposit-form button:hover {
  background: var(--btn-hover-bg);
}
</style>
<script>
  const amountEl = document.querySelector('.amount');
  amountEl.textContent = `$${data.balance.toFixed(2)}`;
  amountEl.classList.add('updated');
  setTimeout(() => amountEl.classList.remove('updated'), 500);
</script>
{% endblock %}
